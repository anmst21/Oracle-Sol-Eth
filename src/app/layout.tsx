// import type { Metadata } from "next";
import {
  Fira_Code,
  Funnel_Display,
  Handjet,
  Funnel_Sans,
} from "next/font/google";
import PrivyProvider from "../context/PrivyProvider";
import "../styles/index.scss";
import { CommunityCoinsProvider } from "@/context/FarcasterCommunityTokensProvider";
import { SolanaCoinsProvider } from "@/context/DexScreenerTrendingSolataTokensProvider";
import { GeckoTokensProvider } from "@/context/GeckoTerminalCoinsProvider";
import MoonPayContextProvider from "@/context/MoonpayProvider";
import { TokenModalProvider } from "@/context/TokenModalProvider";
import { ActiveWalletProvider } from "@/context/ActiveWalletContext";
import { SlippageProvider } from "@/context/SlippageContext";
import Header from "@/components/header";
import { RelayKitProviderWrapper as RelayKitProvider } from "@/context/RelayKitProvider";
import QueryClientProvider from "@/context/QueryClientProvider";
import HeaderFooter from "@/components/footer/header-footer";
import FaviconAnimator from "@/components/favicon-animatior";
import OnRampProvider from "@/context/OnRampProvider";
import FeedProvider from "@/context/FeedProvider";
import Footer from "@/components/footer";
// import FarcasterAuthProvider from "@/context/FarcasterAuthProvider";
const firaCode = Fira_Code({
  subsets: ["latin"], // adjust as needed
  variable: "--font-fira-code",
});

// load Handjet as a CSS variable
const handjet = Handjet({
  subsets: ["latin"],
  variable: "--font-handjet",
});
const funnelDisplay = Funnel_Display({
  subsets: ["latin"],
  variable: "--font-funnel-display",
});
const funnelSans = Funnel_Sans({
  subsets: ["latin"],
  variable: "--font-funnel-sans",
});

// export const metadata: Metadata = {
//   title: "Create Next App",
//   description: "Generated by create next app",
// };

export default async function RootLayout({
  children,
}: Readonly<{
  children: React.ReactNode;
}>) {
  // const community = await fetchCommunityCoins();
  // console.log("solana coins", solana);

  // const s = await searchDexTokens({ network: "base", query: "degen" });

  return (
    <html lang="en">
      <body
        className={`${firaCode.variable} ${handjet.variable} ${funnelDisplay.variable} ${funnelSans.variable}`}
      >
        <FaviconAnimator />

        <QueryClientProvider>
          <PrivyProvider>
            <SolanaCoinsProvider>
              <CommunityCoinsProvider>
                <GeckoTokensProvider>
                  <MoonPayContextProvider>
                    <ActiveWalletProvider>
                      <TokenModalProvider>
                        <RelayKitProvider>
                          <OnRampProvider>
                            <FeedProvider>
                              <SlippageProvider>
                                <Header />
                                <div className="main">{children}</div>
                                <Footer />
                                <HeaderFooter />
                              </SlippageProvider>
                            </FeedProvider>
                          </OnRampProvider>
                        </RelayKitProvider>
                      </TokenModalProvider>
                    </ActiveWalletProvider>
                  </MoonPayContextProvider>
                </GeckoTokensProvider>
              </CommunityCoinsProvider>
            </SolanaCoinsProvider>
          </PrivyProvider>
        </QueryClientProvider>
      </body>
    </html>
  );
}
